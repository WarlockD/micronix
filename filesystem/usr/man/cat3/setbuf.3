

setbuf (3s)                  3/24/82                  setbuf (3s)


     SSUUBBRROOUUTTIINNEE((SS))
          sseettbbuuff - assign buffering to a stream


     CC
          ##iinncclluuddee <<ssttddiioo..hh>>

          sseettbbuuff((ssttrreeaamm,, bbuuff))
          FFIILLEE **ssttrreeaamm;;
          cchhaarr **bbuuff;;


     FUNCTION
          SSeettbbuuff  is used after a stream is opened, but before it
          is read or written to cause the bbuuff character array  to
          be used instead of an automatically allocated buffer.
          
          If  bbuuff  is  NULL (constant pointer), I/O is completely
          unbuffered.
          
          Size of array is determined by a the constant,  BUFSIZ.
          An example:

                             cchhaarr bbuuff[[BBUUFFSSIIZZ]];;

          A buffer is obtained from aalllloocc (3) upon the first ggeettcc
          or ppuuttcc on the file. One exception is when the standard
          output  is  directed to a terminal, in which case it is
          line buffered. Normally,  output  streams  directed  to
          terminals  and  ssttddeerrrr  (standard error stream) are not
          buffered.
          
          When standard output is line buffered, it is flushed by
          rreeaadd (2) each time  data  is  read  from  the  standard
          input.


     EERRRROORRSS
          By  default,  the  standard error stream should be line
          buffered.


     AALLSSOO RREEAADD
          fopen (3), getc (3), putc (3), alloc (3)




                               -1-


