

fsck (1)                     4/13/82                     fsck (1)


     PPRROOGGRRAAMM
          ffsscckk - file system check and repair


     UUSSAAGGEE
          fsck [-t] [-n] filesystem


     FFUUNNCCTTIIOONN
          FFsscckk  is  a  complete  Micronix file system maintenance
          package. System crashes may  cause  the  Micronix  file
          systems  (as  well  as  standard  UNIX  version  6 file
          systems)   to   become   internally   inconsistent   in
          potentially  dangerous  ways  to  your data. It is also
          possible for the physical device on which a file system
          resides to develop unreadable spots. The  ffsscckk  program
          ratifies  these  inconsistencies and maintains the file
          system.
          
          NNOOTTEE!! Do not run ffsscckk on an _a_c_t_i_v_e file system.
          
          If information in the file  system  is  changing  while
          ffsscckk  is taking its "snapshot" of the state of the file
          system, it will get the wrong idea and will try and fix
          things that were not  wrong  in  the  first  place.  By
          typing

               ffsscckk ffiilleessyysstteemm

          where ffiilleessyysstteemm is the name of the device on which the
          file  system in question lives, you can bring your file
          system completely up to par.  If  no  specification  is
          made,  ffsscckk  searches  for and attempts to fix all file
          system problems.


          Options:

          -t   Test all of the blocks on the file system  to  see
               that  each is readable. Systems on large disks may
               take some time to complete.

          -n   No changes will be made. FFsscckk will only  look  and
               tell you what it would do.


   FFsscckk can fix:

          -    Two  files  claiming  the same block. The block is
               copied and a copy is given to each file.




                               -1-




fsck (1)                     4/13/82                     fsck (1)


          -    File containing a bad block. An attempt is made to
               copy the bad block; in any case, a  new  block  is
               allocated  to  fill  the  spot.  The  bad block is
               assigned to a file in the directory "badblocks".

          -    Duplicates in the free list.

          -    Allocated blocks in the free list.

          -    Blocks missing from the free list.

          -    Bad block in the free  chain.  The  free  list  is
               rebuilt from scratch.

          -    File  for  which  there  is no directory entry (an
               orphan). An entry  is  made  in  the  "lost+found"
               directory.

          -    Missing directory self link ".".

          -    Missing directory parental link "..".

          -    Disconnected directory. Appropriate links are made
               to directory names in "lost+found," if necessary.

          -    Imbalanced directory entry - link counts. Resolved
               in  favor of the directory entries, i.e., the link
               count is changed.


   FFsscckk cannot fix:

          -    Bad blocks in the i-list or super block.

          -    Ridiculous numbers in the super block.


     SSEEEE AALLSSOO
          filesystem (5), icheck(1), dcheck(1), df (1), ncheck (1)




                               -2-


