

lord (1)                     4/13/82                     lord (1)


     PPRROOGGRRAAMM
          lloorrdd - order libraries


     UUSSAAGGEE
          lord -[c* d* i r* s]


     FFUUNNCCTTIIOONN
          LLoorrdd  reads  in a list of module names, with associated
          interdepencies, from STDIN, and  outputs  to  STDOUT  a
          topologically sorted list of module names such that, if
          at all possible, no module depends on an earlier module
          in  the  list.  Each  module  is  introduced  by a line
          containing its name followed  by  a  colon.  Subsequent
          lines are interpreted as either:


          defs  - things defined by the module,
                  
          refs  - things referred to by the module, or
                  
                  other stuff.
                  
          Refs  and  defs  have  the  syntax given by one or more
          formats entered as flags  on  the  command  line.  Each
          character  of  the  format must match the corresponding
          character at the beginning of an input line; a  ?  will
          match  any  character except newline. If all characters
          of the format match, the rest  of  the  input  line  is
          taken  as  a  ref  or  def  name. Thus, the format flag
          "-d0x????D"  would  identify  as  valid  def  any  line
          beginning  with  "0x",  four arbitrary characters and a
          "D", so that the input line  "0x3ff0D_inbuf"  would  be
          taken as a def named "_inbuf".
          
          The flags are:


          -c*  prepend the string * to the output stream. Implies
               -s.  Each  module  name  is  output  preceded by a
               space; the output  stream  is  terminated  with  a
               newline.  Hence,  lloorrdd  can  be  used  to  build a
               command line.

          -d*  use the string * as a fromat for defs.

          -i   ignore other stuff. Default is to  complain  about
               any line not recognizable as a def or ref.

          -r*  use the string * as a format for refs.

          -s   suppress  output  of  defs  and  refs; output only
               module names in order.


                               -1-




lord (1)                     4/13/82                     lord (1)


          Up to ten formats may be input for defs, and up to  ten
          for refs.
          
          If  no  -d  flags  are given, lloorrdd uses the default def
          formats: "0x????????B",  "0x????????D",  "0x????????T",
          0x????B", "0x????D", "0x????????U" and "0x????U". These
          are compatible with the default output of rel (obj).
          
          If  there  are  any  circular  dependencies  among  the
          modules, lloorrdd writes "not completely sorted" to  STDERR
          and  outputs  a  partially-ordered  list.  In  general,
          rearrangements are made  only  when  necessary,  so  an
          ordered   set  of  modules  should  pass  through  lloorrdd
          unchanged.


     RREETTUURRNNSS
          LLoorrdd returns success if no error messages are  printed,
          otherwise failure.


     EEXXAAMMPPLLEE
          To  create  a  library  of ordered object modules under
          Idris:

              %% rreell **..00 || lloorrdd --cc""lliibb lliibbxx..aa --cc"" || sshh


          To order a set of objects using Micronix nm:

              %% nnmm **..oo >> nnmmlliisstt
              %% lloorrdd << nnmmlliisstt --cc""aarr rr lliibbxx..aa"" || \\
              --dd""????????????TT"" --dd""????????????DD"" --dd""????????????BB""  --rr""????????????UU""  ||
              sshh


     SSEEEE AALLSSOO
          lib (1), obj (1)
          
          NOTE:  This  program  and documentation are products of
          Whitesmiths, Ltd.




                               -2-


