

gtty (2)                     3/19/82                     gtty (2)


     NNAAMMEE
          ggttttyy - get typewriter status
          
          
     CC
          gtty(descriptor, vec)
          struct
                {
                char    ispeed,         /* input speed */
                        ospeed,         /* output speed */
                        erase,          /* erase character */
                        kill;           /* kill character */
                int     mode;           /* see below */
                }
                *vec;
          
          
          
     FFUUNNCCTTIIOONN
          GGttttyy  gets  the  status of the terminal associated with
          the file descriptor, and writes  the  status  into  the
          6-byte  structure pointed at by vec. (This structure is
          the same as that passed by ssttttyy.. ) Actually, this  call
          may  be  made to any character device, but devices that
          do not like it may return an error.
          
          IIssppeeeedd aanndd oossppeeeedd aarree oonnee ooff::
          
              00     11220000 bbaauudd
              11       5500 bbaauudd
              22       7755 bbaauudd
              33      111100 bbaauudd
              44      113344..55 bbaauudd
              55      115500 bbaauudd
              66      220000 bbaauudd
              77      330000 bbaauudd
              88      660000 bbaauudd
              99     11220000 bbaauudd
              1100    11880000 bbaauudd
              1111    22440000 bbaauudd
              1122    44880000 bbaauudd
              1133    99660000 bbaauudd
              1144   1199220000 bbaauudd
              1155    11220000 bbaauudd
          
          The next two characters  specify  the  erase  and  kill
          characters, respectively. (The defaults are ^H and ^X).




				    -1-




gtty (2)                     3/19/82                     gtty (2)


          The  mode  specifies what services are performed by the
          system on input and output. Currently, these are:
          
              00110000000000  UUssee tthhee RRSS--223322 cclleeaarr--ttoo--sseenndd lliinnee
               004400000000  KKeeeepp aallll 88 bbiittss ooff iinnppuutt ddaattaa
                 00004400  RRaaww iinnppuutt
                 00002200  CCrr -->> llff mmaappppiinngg
                 00001100  EEcchhoo iinnppuutt
                 0002  Expand tabs
          
          In raw mode, all characters are passed  immediately  to
          the  program  without  waiting  for  a  full line to be
          typed, there is no erase or kill processing, and  there
          is no recognition of any special control characters. In
          cooked  mode,  the  following  control  characters  are
          recognized:
              
              ^^DD  eenndd--ooff--ffiillee ((wwhheenn ttyyppeedd aalloonnee oonn aa lliinnee))
              ^^\\  sseenndd aa qquuiitt ssiiggnnaall ttoo tthhiiss ttttyy''ss pprroocceesssseess
              DDEELL sseenndd aann iinntteerrrruupptt ssiiggnnaall ttoo ssaammee
              ^^BB  sseenndd aa bbaacckkggrroouunndd ssiiggnnaall ttoo ssaammee
              EESSCC ffrreeeezzee tthhee oouuttppuutt ffrroomm tthhiiss ttttyy
              ^^SS  ssaammee aass EESSCC
          
          Note that even while the tty is in raw mode, the  other
          modes still have an effect.
          
          In  cr->lf  mode,  input  crs  are turned into lfs, and
          output crs or lfs are turned into cr-lfs.
          
          In echo mode, input is echoed immediately. If the  mode
          is  also raw, it is echoed exactly as typed; otherwise,
          the special control characters are not echoed, the kill
          character is echoed as itself plus a newline,  and  the
          erase character is echoed as backspace-space-backspace.
          
          In  expand-tabs  mode, tabs are output as the number of
          spaces needed to bring the cursor to the  next  0-mod-8
          column.
          
          
     RREETTUURRNNSS
          A  0  indicates  success,  a  -1  indicates failure. On
          success, the status is placed in the  6-byte  structure
          pointed at by vec.




				    -2-




gtty (2)                     3/19/82                     gtty (2)


     AASSSSEEMMBBLLEERR
          ((ggttttyy == 3322))
          ((ffiillee ddeessccrriippttoorr iinn hhll))
          ssyyss;; ggttttyy;; vveecc
          
          
     RREETTUURRNNSS
          The  carry  flag  is  cleared  on  success,  or  set on
          failure. On success, the status is placed in the 6-byte
          area pointed at by vec.




				    -3-


