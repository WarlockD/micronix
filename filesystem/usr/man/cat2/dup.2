

dup (2)                      3/19/82                      dup (2)


     NNAAMMEE
          dduupp - duplicate a file descriptor


     CC
          dup(descriptor)


     FFUUNNCCTTIIOONN
          DDuupp  takes  a  file  descriptor  previously returned by
          ooppeenn,, ccrreeaatt,, or ppiippee and  allocates  a  new  descriptor
          synonymous  with  the  original.  Subsequent  reads  or
          writes with the new descriptor will  have  exactly  the
          same effect as the same call with the old descriptor.
          
          Since  the  algorithm  that  allocates file descriptors
          returns the lowest available value, combinations of dduupp
          and cclloossee can be used to move  file  descriptors  in  a
          general  way.  This is used mostly for manipulating the
          standard input (file descriptor  0)  and  the  standard
          output (file descriptor 1).
          
          DDuupp   is  subject  to  the  limit  of  16  active  file
          descriptors per process.


     RREETTUURRNNSS
          DDuupp(())  returns  a   file   descriptor   (positive)   if
          successful, or a -1 if not.


     AASSSSEEMMBBLLEERR
          ((dduupp == 4411))
          (old descriptor in hl)
          ssyyss;; dduupp
          (new descriptor in hl)


     RREETTUURRNNSS
          On  success,  the  carry  flag  is  cleared and the new
          descriptor is returned in register hl. On failure,  the
          carry flag is set.




				    -1-


