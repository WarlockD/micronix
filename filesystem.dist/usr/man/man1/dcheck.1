.he "dcheck (1)                   3/18/82                   dcheck (1)"
.fo "                               -#-"
.in 5
.rm 65
.bd
PROGRAM
.in +5
.br
.bd
dcheck
- file system directory consistency check


.in -5
.bd
USAGE         
.in +5
.br
.bd
dcheck [-f] file system ....


.in -5
.bd
FUNCTION   
.in +5
.br
.bd
Dcheck
reads the directories in a file system and compares the link-counts in
each i-node
with the number of directory entries by which it is referenced.


.in -5
.bd
ERRORS        
.in +5
.br
When a file turns up for which the link-count and the number of directory 
entries disagree, the
relevant facts are reported.
A dangerous situation occurs when there are more entries than links;
if entries are removed, the link-count drops to 0 and the remaining 
entries point to thin air -
they should be removed. 

When there are more links than entries,
some disk space may be wasted but the situation is
not dangerous.  If the 
.bd
-f
option is given, 
.bd
dcheck
will try to ratify the situation.


.in -5
.bd
NOTES
.in +5
.br
Extraneous diagnostics may be produced if 
.bd
dcheck 
is applied to an active file system.


.in -5
.bd
SEE ALSO
.in +5
.br
fsck (1), ncheck (1), icheck (1)
